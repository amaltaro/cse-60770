# Homework 1

This project consists of a software that parses Java library dependencies, defined as a Project Object Model (POM) XML file.
Based on that list of dependencies information, the National Vulnerability Database (NVD) is used to identify whether the relevant
software has any known software vulnerabilities or not.

## Getting Started

This software can pull all information available in NVD, so it requires a reasonable internet connectivity and up to 500MB of memory
RAM, as data is loaded into memory as a Python dictionary.
This data is then stored in a SQLite3 file-based database, which has been pre-populated and it is provided in this repository as well (under the name of `nvd_data.db`, with the size of 48MB).
Lastly, the output generated by this software will be created in the same directory that the user is executing this program on.

Despite testing these instructions out in a Python 3.10 environment, it should work with any Python (virtual) environment greater or equal than 3.8.

**NOTE** that this program might not be portable across all OS, as it depends on the `HOME` and `PWD` environment variables, only available in Linux-based systems.

### Running the program

This method describes how to execute this software from a Python (virtual) environment. It assumes that you have `git` and Python 3 installed in your node.

1. (Optional) If you have `virtualenvwrapper`, you can create a new environment like (or, use your prefered virtual environment library.):
```
mkvirtualenv cse-60770-alan
```
2. Clone this repository with:
```
git clone https://github.com/amaltaro/cse-60770.git
```
3. Access the project directory:
```
cd cse-60770/homework_1/
```
4. Install the Python dependencies:
```
pip3 install -r requirements.txt
```
5. Decompress the database with the `gzip` tool (for Linux and Mac OS systems):
```
gzip -d nvd_data.db.gz
```
6. Finally, you can execute it with one of the POM samples provided, e.g.:
```
python main.py detectOnly samples/pom-1.xml
```

Note that the final report has been disabled in the stdout, as it is persisted in the current directory under a file called `result.txt`.

### Repopulating the whole local database

One of the project requirements is that it should provide 2 modes of operation:
1. `detectOnly`: it uses the pre-populated local database to search for security vulnerabilities, according to the input `pom.xml` file description.
2. `doAll`: this mode wipes out the local SQLite3 database, fetch yearly NVD feeds (starting in 2002), parse all the data and insert content into the local database. Lastly, it performs the vulnerability check and writes out the expected `result.txt` file with the actual report.


For clarity reasons, here is an example on how this mode can be executed:
```
python main.py doAll samples/pom-1.xml
```

When executing the program in `doAll` mode, you might want to go and grab some coffee, as it will take a few minutes to fetch all the data, parse it and insert them into the SQLite3 database.
The most expensive operation in this process is actually the process of updating Common Vulnerabilities and Exposures (CVEs) in the database, as a consequence of the `recent` and `modified` data feeds.
